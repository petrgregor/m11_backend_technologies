{% extends "base.html" %}

{% block content %}
    <h1>Obrázky</h1>
        <ul>
        {% for image in images %}
            <li style="display: flex; align-items: flex-start; background-color: lightgray; border-radius: 15px; margin-bottom: 10px;">
                <a href="{% url 'image' image.id %}" style="padding-top: 10px; padding-left: 5px;">
                    <img src="{{ image.image.url }}" alt="{{ image.description }}" width="40px" style="margin-right: 10px">
                </a>
                {% if perms.viewer.change_image %}
                    <a href="{% url 'image_update' image.id %}">✏️</a>
                {% endif %}
                {% if perms.viewer.delete_image %}
                    <a href="{% url 'image_delete' image.id %}">❌</a>
                {% endif %}

                <div class="image-details" style="display: flex; flex-direction: column; padding-left: 10px">
                    {% if image.movie %}
                        <div class="image-movie mb-2">
                            Film: <a href="{% url 'movie' image.movie.id %}">{{ image.movie.title_orig }}</a>
                        </div>
                    {% endif %}
                    {% if image.actors.all %}
                        <div class="image-actors mb-2"> Herci:
                            {% for actor in image.actors.all %}
                                <span class="image-creator mb-2">
                                    <a href="{% url 'creator' actor.id %}">
                                        {{ actor }}</a>{% if not forloop.last %},{% endif %}
                                </span>
                            {% endfor %}
                        </div>
                    {% endif %}
                    <div class="image-description mb-2">
                        Popis: {{ image.description }}
                    </div>
                </div>


            </li>
        {% endfor %}
        </ul>
{% endblock %}